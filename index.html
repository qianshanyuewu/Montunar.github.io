<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>一个小小的思考地方...</title>
    <meta name="description" content="一个记录个人思考、生活点滴、科技探索和艺术创意的空间。在这里慢慢谈说，分享对世界的观察与感悟。">
    <!-- 添加图标引用 -->
    <link rel="shortcut icon" href="Montunar.github.io/favicon.ico" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#000000',
                        secondary: '#333333',
                        neutral: '#f9f9f9',
                        'neutral-dark': '#e0e0e0',
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                        playfair: ['Playfair Display', 'serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }

            .transition-smooth {
                transition: all 0.7s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .transition-smooth-slow {
                transition: all 1.2s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .text-shadow {
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            .hover-scale {
                transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .hover-scale:hover {
                transform: scale(1.02);
            }

            .slide-in {
            opacity: 0;
            transition: opacity 0.8s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        .slide-in.active {
            opacity: 1;
            transform: scale(1);
        }

            .content-collapsed {
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.7s cubic-bezier(0.25, 0.1, 0.25, 1), opacity 0.6s cubic-bezier(0.25, 0.1, 0.25, 1), padding 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
                opacity: 0;
                padding-top: 0;
                padding-bottom: 0;
            }

            .content-expanded {
                max-height: 2000px;
                transition: max-height 1s cubic-bezier(0.25, 0.1, 0.25, 1), opacity 0.6s cubic-bezier(0.25, 0.1, 0.25, 1), padding 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
                opacity: 1;
                padding-top: 1rem;
                padding-bottom: 2rem;
            }

            .toggle-icon {
                transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .toggle-icon.expanded {
                transform: rotate(180deg);
            }

            .char {
                opacity: 0;
                animation: fadeIn 0.5s forwards;
            }

            @keyframes fadeIn {
                to {
                    opacity: 1;
                }
            }

            /* 现代化卡片设计 - 方案1 */
            .custom-card {
                border-radius: 1rem;
                border: 1px solid #e5e7eb;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
                transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
                background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
                overflow: hidden;
                position: relative;
                text-align: center;
            }
            
            .custom-card:hover {
                transform: translateY(-8px);
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
                border-color: #d1d5db;
            }
            
            /* 卡片图片容器 */
            .custom-card .h-48 {
                border-radius: 0.75rem;
                overflow: hidden;
                position: relative;
                transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            }
            
            .custom-card:hover .h-48 {
                transform: scale(1.05);
                border-radius: 0.5rem;
            }
            
            /* 图片悬停效果 */
            .custom-card img {
                transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
                filter: grayscale(100%);
            }
            
            .custom-card:hover img {
                filter: grayscale(0%);
            }
            
            /* 卡片内容区域 */
            .custom-card h3 {
                transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
                position: relative;
                display: inline-block;
            }
            
            .custom-card:hover h3 {
                color: #000000;
            }
            
            .custom-card:hover h3::after {
                content: '';
                position: absolute;
                bottom: -4px;
                left: 0;
                width: 100%;
                height: 2px;
                background: linear-gradient(90deg, #000000, #333333);
                animation: slideIn 0.5s ease;
            }
            
            @keyframes slideIn {
                from {
                    width: 0;
                }
                to {
                    width: 100%;
                }
            }

            /* 现代化按钮设计 */
            .custom-button {
                background-color: #000000;
                color: white;
                padding: 0.75rem 1.5rem;
                border-radius: 50px;
                transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
                position: relative;
                overflow: hidden;
                border: none;
                font-weight: 500;
                letter-spacing: 0.5px;
            }

            .custom-button:hover {
                background-color: #333333;
                transform: translateY(-3px);
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            }
            
            .custom-button::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.3);
                transform: translate(-50%, -50%);
                transition: width 0.6s, height 0.6s;
            }
            
            .custom-button:hover::after {
                width: 300px;
                height: 300px;
            }
            
            /* 按钮文本保持在最上层 */
            .custom-button span, .custom-button i {
                position: relative;
                z-index: 2;
            }

            /* 优化后的文章卡片样式 - 更简洁轻盈 */
            /* 文章卡片 - 线条笔记本内页风格 */
            .article-card {
                position: relative;
                background: #ffffff;
                border: 1px solid rgba(0, 0, 0, 0.08);
                border-radius: 8px;
                overflow: hidden;
                transition: all 0.3s ease;
                cursor: pointer;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
                will-change: transform, box-shadow;
                max-width: 100%;
                margin-bottom: 1rem;
                padding: 0;
            }

            .dark-mode .article-card {
                background: #0a0a0a;
                border-color: rgba(255, 255, 255, 0.08);
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            }

            /* 内页横线背景 */
            .article-card::before {
                content: '';
                position: absolute;
                top: 60px;
                left: 20px;
                right: 20px;
                bottom: 20px;
                background: repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 28px,
                    rgba(0, 0, 0, 0.04) 28px,
                    rgba(0, 0, 0, 0.04) 29px
                );
                pointer-events: none;
                z-index: 0;
            }

            .dark-mode .article-card::before {
                background: repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 28px,
                    rgba(255, 255, 255, 0.04) 28px,
                    rgba(255, 255, 255, 0.04) 29px
                );
            }

            /* 移除之前的虚线效果 */
            .article-card::after {
                display: none;
            }

            .article-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            }

            .dark-mode .article-card:hover {
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            }

            .article-card-content {
                position: relative;
                padding: 1.5rem;
                z-index: 2;
            }

            /* 文章标题 - 线条风格 */
            .article-title {
                font-size: 1.1rem;
                font-weight: 400;
                line-height: 1.8;
                margin-bottom: 0.75rem;
                color: #1a1a1a;
                font-family: 'Courier New', monospace;
                letter-spacing: 2px;
                transition: color 0.25s ease;
                padding-bottom: 0.5rem;
                border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            }

            .dark-mode .article-title {
                color: #f0f0f0;
                border-bottom-color: rgba(255, 255, 255, 0.06);
            }

            .article-card:hover .article-title {
                color: #000000;
            }

            .dark-mode .article-card:hover .article-title {
                color: #ffffff;
            }

            /* 文章元信息 - 极简风格 */
            .article-meta {
                display: flex;
                align-items: center;
                gap: 1rem;
                margin-bottom: 0.75rem;
                font-size: 0.7rem;
                color: rgba(0, 0, 0, 0.4);
                font-family: 'Courier New', monospace;
                letter-spacing: 1px;
            }

            .dark-mode .article-meta {
                color: rgba(255, 255, 255, 0.4);
            }

            .article-date {
                display: flex;
                align-items: center;
                gap: 0.375rem;
            }

            /* 分类标签 - 线条边框 */
            .article-category {
                display: flex;
                align-items: center;
                gap: 0.375rem;
                padding: 2px 8px;
                background-color: transparent;
                border: 1px solid rgba(0, 0, 0, 0.15);
                border-radius: 3px;
                font-size: 0.65rem;
                font-weight: 400;
                font-family: 'Courier New', monospace;
                letter-spacing: 1px;
                color: rgba(0, 0, 0, 0.5);
                text-transform: uppercase;
                transition: all 0.25s ease;
            }

            .dark-mode .article-category {
                border-color: rgba(255, 255, 255, 0.15);
                color: rgba(255, 255, 255, 0.5);
            }

            .article-card:hover .article-category {
                border-color: rgba(0, 0, 0, 0.3);
                color: rgba(0, 0, 0, 0.7);
            }

            .dark-mode .article-card:hover .article-category {
                border-color: rgba(255, 255, 255, 0.3);
                color: rgba(255, 255, 255, 0.7);
            }

            .article-preview {
                font-size: 0.875rem;
                line-height: 1.6;
                color: #9ca3af;
                margin-bottom: 0.75rem;
                opacity: 0.8;
                transition: opacity 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            }

            .article-card:hover .article-preview {
                opacity: 1;
            }

            .article-actions {
                display: flex;
                justify-content: center;
                align-items: center;
                flex-shrink: 0;
            }

            /* 文章图标 - 线条风格 */
            .article-icon {
                width: 28px;
                height: 28px;
                border-radius: 4px;
                background: transparent;
                border: 1px solid rgba(0, 0, 0, 0.15);
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 0.875rem;
                color: rgba(0, 0, 0, 0.4);
                transition: all 0.3s ease;
            }

            .dark-mode .article-icon {
                border-color: rgba(255, 255, 255, 0.15);
                color: rgba(255, 255, 255, 0.4);
            }

            .article-card:hover .article-icon {
                border-color: rgba(0, 0, 0, 0.3);
                color: rgba(0, 0, 0, 0.6);
            }

            .dark-mode .article-card:hover .article-icon {
                border-color: rgba(255, 255, 255, 0.3);
                color: rgba(255, 255, 255, 0.6);
            }

            /* 展开图标 - 线条风格 */
            .toggle-icon-enhanced {
                width: 28px;
                height: 28px;
                border-radius: 4px;
                background: transparent;
                border: 1px solid rgba(0, 0, 0, 0.15);
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s ease;
                color: rgba(0, 0, 0, 0.4);
                font-size: 0.75rem;
                cursor: pointer;
            }

            .dark-mode .toggle-icon-enhanced {
                border-color: rgba(255, 255, 255, 0.15);
                color: rgba(255, 255, 255, 0.4);
            }

            .article-card:hover .toggle-icon-enhanced {
                border-color: rgba(0, 0, 0, 0.3);
                color: rgba(0, 0, 0, 0.6);
            }

            .dark-mode .article-card:hover .toggle-icon-enhanced {
                border-color: rgba(255, 255, 255, 0.3);
                color: rgba(255, 255, 255, 0.6);
            }

            .toggle-icon-enhanced.expanded {
                transform: rotate(180deg);
            }

            /* 置顶文章样式 - 线条风格 */
            .pinned-article {
                border: 1px solid rgba(0, 0, 0, 0.12);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            }

            .dark-mode .pinned-article {
                border-color: rgba(255, 255, 255, 0.12);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            }

            .pinned-title {
                color: #1a1a1a;
                font-weight: 500;
            }

            .dark-mode .pinned-title {
                color: #f0f0f0;
            }

            .pinned-badge {
                display: inline-flex;
                align-items: center;
                gap: 0.25rem;
                background: transparent;
                border: 1px solid rgba(0, 0, 0, 0.2);
                color: rgba(0, 0, 0, 0.5);
                font-size: 0.65rem;
                font-weight: 400;
                padding: 2px 8px;
                border-radius: 3px;
                margin-left: 0.5rem;
                font-family: 'Courier New', monospace;
                letter-spacing: 1px;
            }

            .dark-mode .pinned-badge {
                border-color: rgba(255, 255, 255, 0.2);
                color: rgba(255, 255, 255, 0.5);
            }

            /* 昼夜模式样式 */
            .dark-mode {
                background-color: #121212;
                color: #f9f9f9;
            }

            .dark-mode .bg-white {
                background-color: #1e1e1e;
            }

            .dark-mode .bg-neutral {
                background-color: #121212;
            }

            .dark-mode .text-primary {
                color: #ffffff;
            }

            .dark-mode .text-gray-600 {
                color: #d1d1d1;
            }

            .dark-mode .text-gray-500 {
                color: #a0a0a0;
            }

            .dark-mode .border-gray-200 {
                border-color: #333333;
            }

            .dark-mode .custom-card {
                border-color: #333333;
                background-color: #1e1e1e;
            }

            /* 暗夜模式已在上面统一设置 */

            .dark-mode .article-preview {
                color: #9ca3af;
                transition: opacity 0.3s ease;
            }

            .dark-mode .article-actions {
                border-top: 1px solid rgba(255, 255, 255, 0.1);
            }

            .dark-mode .toggle-icon-enhanced {
                background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
                color: #f3f4f6;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }

            .dark-mode .article-card:hover .toggle-icon-enhanced {
                background: linear-gradient(135deg, #ffffff 0%, #e5e7eb 100%);
                color: #1f2937;
                box-shadow: 0 4px 12px rgba(255, 255, 255, 0.15);
            }

            .dark-mode .toggle-icon-enhanced.expanded {
                background: linear-gradient(135deg, #ffffff 0%, #e5e7eb 100%);
                color: #1f2937;
            }

            .dark-mode .article-icon {
                background: #374151;
                color: #9ca3af;
                transition: all 0.3s ease;
            }

            .dark-mode .article-card:hover .article-icon {
                background: #ffffff;
                color: #1f2937;
                transform: rotate(3deg);
            }

            .dark-mode .bg-gray-50 {
                background-color: #1e1e1e;
            }

            .dark-mode .bg-gray-100 {
                background-color: #2a2a2a;
            }

            .dark-mode .custom-button {
                background-color: #ffffff;
                color: #000000;
            }

            .dark-mode .custom-button:hover {
                background-color: #e0e0e0;
                box-shadow: 0 4px 8px rgba(255, 255, 255, 0.1);
            }

            /* 图片悬停效果 */
            .img-grayscale {
                filter: grayscale(100%);
                transition: all 0.7s cubic-bezier(0.25, 0.1, 0.25, 1);
                will-change: transform, filter;
            }

            .img-grayscale:hover {
                filter: grayscale(0%);
                transform: scale(1.02);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            }

            .dark-mode .img-grayscale:hover {
                box-shadow: 0 8px 16px rgba(255, 255, 255, 0.1);
            }

            /* 昼夜切换按钮 */
            .theme-button {
                width: 40px;
                height: 40px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                background-color: transparent;
                border: 1px solid rgba(0, 0, 0, 0.1);
                cursor: pointer;
                transition: all 0.7s cubic-bezier(0.25, 0.1, 0.25, 1);
                will-change: transform, background-color;
            }

            .theme-button:hover {
                background-color: rgba(0, 0, 0, 0.05);
                transform: rotate(30deg);
            }

            .dark-mode .theme-button {
                border-color: rgba(255, 255, 255, 0.2);
            }

            .dark-mode .theme-button:hover {
                background-color: rgba(255, 255, 255, 0.1);
            }

            /* 返回顶部按钮 */
            #back-to-top {
                transition: opacity 0.3s ease, transform 0.3s ease;
            }

            #back-to-top.hidden {
                opacity: 0;
                pointer-events: none;
                transform: translateY(20px);
            }

            /* 悬浮高亮效果 */
            .hover-highlight {
                position: relative;
                transition: all 0.7s cubic-bezier(0.25, 0.1, 0.25, 1);
                will-change: transform, box-shadow;
            }

            .hover-highlight:hover {
                transform: translateY(-2px);
                box-shadow: 0 8px 16px rgba(0, 0, 0, 0.08);
            }

            .dark-mode .hover-highlight:hover {
                box-shadow: 0 8px 16px rgba(255, 255, 255, 0.04);
            }

            /* 链接悬浮效果 */
            .link-hover {
                position: relative;
                transition: all 0.7s cubic-bezier(0.25, 0.1, 0.25, 1);
                will-change: transform;
            }

            .link-hover::after {
                content: '';
                position: absolute;
                width: 0;
                height: 2px;
                bottom: -2px;
                left: 0;
                background-color: currentColor;
                transition: width 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .link-hover:hover {
                transform: translateY(-1px);
            }

            .link-hover:hover::after {
                width: 100%;
            }

            /* 卡片悬浮效果增强 */
            .card-hover {
                transition: all 0.7s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .card-hover:hover {
                transform: translateY(-3px);
                box-shadow: 0 12px 24px rgba(0, 0, 0, 0.08);
            }

            .dark-mode .card-hover:hover {
                box-shadow: 0 12px 24px rgba(255, 255, 255, 0.04);
            }

            .hide-canvas {
                display: none !important;
            }

            /* 文章预览文本样式 */
            .article-preview-text {
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            /* 平滑滚动 */
            html {
                scroll-behavior: smooth;
            }

            /* 优化页面切换动画 - 默认淡入淡出效果 */
            .page-transition {
                transition: opacity 0.8s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .page-hidden {
                opacity: 0;
                transform: scale(0.98);
                pointer-events: none;
            }

            .page-visible {
                opacity: 1;
                transform: scale(1);
                pointer-events: auto;
            }

            /* 优化按钮和链接的交互效果 */
            .interactive-element {
                transition: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .interactive-element:hover {
                transform: translateY(-1px);
            }

            .interactive-element:active {
                transform: translateY(0);
            }

            /* 优化卡片悬浮效果 */
            .card-enhanced {
                transition: all 0.7s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .card-enhanced:hover {
                transform: translateY(-3px);
                box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
            }

            /* 相框卡片样式 */
            .photo-frame-card {
                background: #fafafa;
                padding: 1.5rem;
                border-radius: 4px;
                box-shadow: 
                    0 4px 20px rgba(0, 0, 0, 0.08),
                    0 1px 3px rgba(0, 0, 0, 0.05);
                transition: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .dark-mode .photo-frame-card {
                background: #1a1a1a;
                box-shadow: 
                    0 4px 20px rgba(0, 0, 0, 0.3),
                    0 1px 3px rgba(0, 0, 0, 0.2);
            }

            .photo-frame-card:hover {
                transform: translateY(-5px);
                box-shadow: 
                    0 12px 40px rgba(0, 0, 0, 0.12),
                    0 4px 12px rgba(0, 0, 0, 0.08);
            }

            /* 相框容器 */
            .photo-frame {
                position: relative;
                background: #fff;
                padding: 12px;
                box-shadow: 
                    inset 0 0 0 1px rgba(0,0,0,0.08),
                    inset 0 0 20px rgba(0,0,0,0.03);
                margin-bottom: 1rem;
            }

            .dark-mode .photo-frame {
                background: #0d0d0d;
                box-shadow: 
                    inset 0 0 0 1px rgba(255,255,255,0.1),
                    inset 0 0 20px rgba(0,0,0,0.5);
            }

            /* 相框内层 */
            .photo-frame-inner {
                position: relative;
                overflow: hidden;
                border: 1px solid rgba(0,0,0,0.06);
            }

            .dark-mode .photo-frame-inner {
                border-color: rgba(255,255,255,0.08);
            }

            /* 相框图片 */
            .photo-frame-img {
                width: 100%;
                height: 200px;
                object-fit: cover;
                filter: grayscale(100%) contrast(1.05);
                transition: all 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .photo-frame-card:hover .photo-frame-img {
                filter: grayscale(0%) contrast(1);
                transform: scale(1.03);
            }

            /* 相框角落装饰 */
            .photo-frame-corner {
                position: absolute;
                width: 20px;
                height: 20px;
                border: 2px solid rgba(0,0,0,0.2);
                transition: all 0.3s ease;
            }

            .dark-mode .photo-frame-corner {
                border-color: rgba(255,255,255,0.15);
            }

            .photo-frame-corner-tl {
                top: 4px;
                left: 4px;
                border-right: none;
                border-bottom: none;
            }

            .photo-frame-corner-tr {
                top: 4px;
                right: 4px;
                border-left: none;
                border-bottom: none;
            }

            .photo-frame-corner-bl {
                bottom: 4px;
                left: 4px;
                border-right: none;
                border-top: none;
            }

            .photo-frame-corner-br {
                bottom: 4px;
                right: 4px;
                border-left: none;
                border-top: none;
            }

            .photo-frame-card:hover .photo-frame-corner {
                width: 24px;
                height: 24px;
                border-color: rgba(0,0,0,0.4);
            }

            .dark-mode .photo-frame-card:hover .photo-frame-corner {
                border-color: rgba(255,255,255,0.3);
            }

            /* 相框信息区 */
            .photo-frame-info {
                text-align: center;
                padding: 0.5rem 0;
            }

            .photo-frame-title {
                font-size: 1.1rem;
                font-weight: 500;
                color: #333;
                margin-bottom: 0.75rem;
                letter-spacing: 0.05em;
            }

            .dark-mode .photo-frame-title {
                color: #e0e0e0;
            }

            .photo-frame-link {
                display: inline-flex;
                align-items: center;
                font-size: 0.875rem;
                color: #666;
                text-decoration: none;
                padding: 0.5rem 1rem;
                border: 1px solid rgba(0,0,0,0.15);
                border-radius: 20px;
                transition: all 0.3s ease;
            }

            .dark-mode .photo-frame-link {
                color: #aaa;
                border-color: rgba(255,255,255,0.2);
            }

            .photo-frame-link:hover {
                background: #333;
                color: #fff;
                border-color: #333;
            }

            .dark-mode .photo-frame-link:hover {
                background: #fff;
                color: #000;
                border-color: #fff;
            }

            /* 添加微妙的缩放效果 */
            .scale-subtle {
                transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .scale-subtle:hover {
                transform: scale(1.01);
            }

            /* 优化主题切换按钮动画 */
            .theme-button-enhanced {
                transition: all 0.7s cubic-bezier(0.25, 0.1, 0.25, 1);
            }

            .theme-button-enhanced:hover {
                transform: rotate(30deg) scale(1.05);
            }

            /* 添加淡入动画 */
            @keyframes fadeInUp {
                from {
                    opacity: 0;
                    transform: translateY(15px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .fade-in-up {
                animation: fadeInUp 0.8s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
            }

            /* 优化背景动画性能 */
            #canvas {
                will-change: transform;
                backface-visibility: hidden;
            }
        }
    </style>
    <style>
        #canvas {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          z-index: -10; /* Ensure it's well behind other content */
          background-color: #eee; /* Animation's original background, consider theme adaptability */
          display: block;
        }
        /* 保证首页section高度和背景色 */
        #home-page {
          min-height: 100vh;
          height: 100vh;
          box-sizing: border-box;
          background-color: #fff;
          overflow: hidden;
        }
        
        /* 为其他页面启用滚动 */
        #articles-page,
        #talking-page,
        #tech-articles-page,
        #art-articles-page,
        #what-i-did-page,
        #thinking-articles-page,
        #kaoyan100-page {
          overflow-y: auto;
        }
        .dark-mode #home-page {
          background-color: #121212 !important;
        }
        /* GIF 背景容器 */
        .home-gif-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            display: block !important;
        }
        .home-gif-container img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.5s ease;
        }
        /* 白天模式：显示 light-gif，隐藏 dark-gif */
        .gif-light {
            opacity: 0.1;
            filter: blur(2px) grayscale(30%);
        }
        .gif-dark {
            opacity: 0;
            filter: blur(2px) grayscale(30%);
        }
        /* 暗夜模式：隐藏 light-gif，显示 dark-gif */
        .dark-mode .gif-light {
            opacity: 0;
        }
        .dark-mode .gif-dark {
            opacity: 0.15;
        }
        /* 确保首页内容在背景之上 */
        #home-page .fade-in-up {
            position: relative;
            z-index: 1;
        }
        /* 移动端隐藏 GIF 背景 */
            @media (max-width: 768px) {
                .home-gif-container {
                    display: none !important;
                }
            }

            /* 线条书籍堆叠容器 */
            .notebook-stack {
                position: relative;
                display: flex;
                flex-direction: column;
                align-items: center;
                padding-top: 40px;
                gap: 0;
            }

            /* 线条书籍基础样式 */
            .notebook-cover {
                position: relative;
                width: 320px;
                height: 220px;
                cursor: pointer;
                perspective: 2000px;
                transform-style: preserve-3d;
            }

            /* 堆叠的书籍 */
            .notebook-stack-item {
                position: relative;
                transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }

            /* 最底层 - 艺术与创意 */
            .notebook-stack-bottom {
                z-index: 1;
                transform: translateY(60px) scale(0.9);
                opacity: 0.7;
            }

            /* 中间层 - 科技与未来 */
            .notebook-stack-middle {
                z-index: 2;
                transform: translateY(30px) scale(0.95);
                opacity: 0.85;
                margin-top: -180px;
            }

            /* 最顶层 - 思考与探索 */
            .notebook-stack-top {
                z-index: 3;
                transform: translateY(0) scale(1);
                margin-top: -180px;
            }

            /* 悬停效果 - 抽出效果 */
            .notebook-stack-bottom:hover:not(.notebook-opening) {
                transform: translateY(20px) scale(0.92);
                opacity: 0.9;
                z-index: 10;
            }

            .notebook-stack-middle:hover:not(.notebook-opening) {
                transform: translateY(-10px) scale(0.98);
                opacity: 0.95;
                z-index: 10;
            }

            .notebook-stack-top:hover:not(.notebook-opening) {
                transform: translateY(-20px) scale(1.02);
                z-index: 10;
            }

            /* 书脊 - 线条风格 */
            .notebook-spine {
                position: absolute;
                left: 0;
                top: 0;
                width: 30px;
                height: 100%;
                background: transparent;
                border-right: 1px solid rgba(0,0,0,0.3);
                z-index: 10;
            }

            .dark-mode .notebook-spine {
                border-right-color: rgba(255,255,255,0.2);
            }

            /* 内页 - 纯白带横线 */
            .notebook-pages {
                position: absolute;
                left: 30px;
                top: 2px;
                right: 2px;
                bottom: 2px;
                background: #ffffff;
                border-radius: 0 8px 8px 0;
                z-index: 1;
                box-shadow: inset -3px 0 8px rgba(0,0,0,0.05);
            }

            .dark-mode .notebook-pages {
                background: #f5f5f5;
            }

            /* 内页横线 */
            .notebook-pages::before {
                content: '';
                position: absolute;
                top: 30px;
                left: 15px;
                right: 15px;
                bottom: 20px;
                background: repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 24px,
                    rgba(0,0,0,0.06) 24px,
                    rgba(0,0,0,0.06) 25px
                );
                pointer-events: none;
            }

            /* 封面 - 线条构成 */
            .notebook-front {
                position: absolute;
                left: 30px;
                top: 0;
                right: 0;
                bottom: 0;
                background: #ffffff;
                border: 1px solid rgba(0,0,0,0.15);
                border-radius: 0 10px 10px 0;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                padding: 2rem;
                overflow: hidden;
                transform-style: preserve-3d;
                backface-visibility: hidden;
                transform-origin: left center;
                transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                z-index: 5;
            }

            .dark-mode .notebook-front {
                background: #0a0a0a;
                border-color: rgba(255,255,255,0.15);
            }

            /* 封面线条装饰 */
            .notebook-front::before {
                content: '';
                position: absolute;
                top: 20px;
                left: 20px;
                right: 20px;
                height: 1px;
                background: rgba(0,0,0,0.1);
            }

            .notebook-front::after {
                content: '';
                position: absolute;
                bottom: 20px;
                left: 20px;
                right: 20px;
                height: 1px;
                background: rgba(0,0,0,0.1);
            }

            .dark-mode .notebook-front::before,
            .dark-mode .notebook-front::after {
                background: rgba(255,255,255,0.1);
            }

            /* 封面纹理 */
            .notebook-texture {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background:
                    repeating-linear-gradient(
                        90deg,
                        transparent,
                        transparent 40px,
                        rgba(0,0,0,0.02) 40px,
                        rgba(0,0,0,0.02) 41px
                    );
                pointer-events: none;
            }

            .dark-mode .notebook-texture {
                background:
                    repeating-linear-gradient(
                        90deg,
                        transparent,
                        transparent 40px,
                        rgba(255,255,255,0.02) 40px,
                        rgba(255,255,255,0.02) 41px
                    );
            }

            /* 书籍揭开动画 */
            .notebook-opening .notebook-front {
                transform: rotateY(-100deg);
            }
            
            /* 笔记本纹理 */
            .notebook-texture {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: 
                    repeating-linear-gradient(
                        0deg,
                        transparent,
                        transparent 2px,
                        rgba(255,255,255,0.02) 2px,
                        rgba(255,255,255,0.02) 4px
                    );
                pointer-events: none;
            }
            
            /* 书籍标签 - 极简线条风格 */
            .notebook-label {
                text-align: center;
                z-index: 1;
                padding: 1rem 2rem;
                border-top: 1px solid rgba(0,0,0,0.1);
                border-bottom: 1px solid rgba(0,0,0,0.1);
            }

            .dark-mode .notebook-label {
                border-top-color: rgba(255,255,255,0.1);
                border-bottom-color: rgba(255,255,255,0.1);
            }

            .notebook-title {
                display: block;
                font-size: 1.25rem;
                font-weight: 400;
                color: #1a1a1a;
                letter-spacing: 4px;
                margin-bottom: 0.75rem;
                font-family: 'Courier New', monospace;
            }

            .dark-mode .notebook-title {
                color: #f0f0f0;
            }

            .notebook-subtitle {
                display: block;
                font-size: 0.65rem;
                color: rgba(0,0,0,0.4);
                letter-spacing: 4px;
                text-transform: uppercase;
                font-family: 'Courier New', monospace;
            }

            .dark-mode .notebook-subtitle {
                color: rgba(255,255,255,0.4);
            }

            /* 书籍装饰图标 - 简化 */
            .notebook-decoration {
                position: absolute;
                bottom: 2.5rem;
                font-size: 1.25rem;
                color: rgba(0,0,0,0.15);
                transition: all 0.3s ease;
            }

            .dark-mode .notebook-decoration {
                color: rgba(255,255,255,0.15);
            }

            .notebook-cover:hover .notebook-decoration {
                color: rgba(0,0,0,0.3);
                transform: scale(1.1);
            }

            .dark-mode .notebook-cover:hover .notebook-decoration {
                color: rgba(255,255,255,0.3);
            }
            
            /* 笔记本装订线效果 - 白天模式 */
            .notebook-lines {
                position: relative;
                padding-left: 60px;
            }
            .notebook-lines::before {
                content: '';
                position: absolute;
                left: 40px;
                top: 0;
                bottom: 0;
                width: 1px;
                background: rgba(0, 0, 0, 0.1);
            }
            .notebook-lines::after {
                content: '';
                position: absolute;
                left: 36px;
                top: 20px;
                bottom: 20px;
                width: 9px;
                background: repeating-linear-gradient(
                    180deg,
                    rgba(0, 0, 0, 0.15) 0px,
                    rgba(0, 0, 0, 0.15) 2px,
                    transparent 2px,
                    transparent 40px
                );
            }

            /* 笔记本装订线效果 - 暗夜模式 */
            .dark-mode .notebook-lines::before {
                background: rgba(255, 255, 255, 0.1);
            }
            .dark-mode .notebook-lines::after {
                background: repeating-linear-gradient(
                    180deg,
                    rgba(255, 255, 255, 0.2) 0px,
                    rgba(255, 255, 255, 0.2) 2px,
                    transparent 2px,
                    transparent 40px
                );
            }
        .dark-mode #canvas {
          background-color: #121212 !important;
        }
        .dark-mode footer {
          border-top: none !important;
        }
        #home-page + footer {
          display: none !important;
        }
        /* New body background styles */
        body {
            background-color: #eee;
        }
        .dark-mode body {
            background-color: #121212 !important;
        }
        
        /* 集成功能按钮样式 */
        .multi-function-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .multi-function-options {
            position: absolute;
            bottom: 60px;
            right: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        }
        
        .multi-function-container.active .multi-function-options {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        #multi-function-toggle {
            transition: transform 0.3s ease;
        }
        
        .multi-function-container.active #multi-function-toggle {
            transform: rotate(45deg);
        }
        
        /* 字体调整选项样式 */
        .font-size-options {
            position: absolute;
            bottom: 10px;
            right: 60px;
            display: flex;
            flex-direction: row;
            gap: 10px;
            opacity: 0;
            visibility: hidden;
            transform: translateX(10px);
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        }
        
        .font-size-options.visible {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }
        
        .font-size-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.9);
            border: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
            transition: all 0.2s ease;
            color: #333333;
        }
        
        .font-size-btn:hover {
            background-color: #f3f4f6;
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .dark-mode .font-size-btn {
            background-color: rgba(30, 30, 30, 0.9);
            border-color: #374151;
            color: #e5e7eb;
        }
        
        .dark-mode .font-size-btn:hover {
            background-color: #374151;
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
        }
        
        /* 淡入淡出动画模式 */
        .animation-mode-fade .slide-in {
            opacity: 0;
            transform: scale(0.98);
            transition: opacity 0.8s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        
        .animation-mode-fade .slide-in.active {
            opacity: 1;
            transform: scale(1);
        }
        
        .animation-mode-fade .page-transition {
            transition: opacity 0.8s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        
        .animation-mode-fade .page-hidden {
            opacity: 0;
            transform: scale(0.98);
            pointer-events: none;
        }
        
        .animation-mode-fade .page-visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }
        
        /* 从下往上动画模式 */
        .animation-mode-slideUp .slide-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.8s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        
        .animation-mode-slideUp .slide-in.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .animation-mode-slideUp .page-transition {
            transition: opacity 0.6s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
        }
        
        .animation-mode-slideUp .page-hidden {
            opacity: 0;
            transform: translateY(15px);
            pointer-events: none;
        }
        
        .animation-mode-slideUp .page-visible {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        
        /* 搜索模态框样式 */
        #search-modal.visible {
            opacity: 1;
        }
        
        #search-modal.visible .search-modal-content {
            transform: scale(1);
        }
        
        #search-results::-webkit-scrollbar {
            width: 4px;
        }
        
        #search-results::-webkit-scrollbar-track {
            background: transparent;
        }
        
        #search-results::-webkit-scrollbar-thumb {
            background: #e5e7eb;
            border-radius: 2px;
        }
        
        #search-results::-webkit-scrollbar-thumb:hover {
            background: #d1d5db;
        }
        
        #search-results .search-result-item {
            padding: 0.875rem;
            border-bottom: 1px solid #f3f4f6;
            cursor: pointer;
            transition: all 0.15s ease;
            border-radius: 0.5rem;
            margin-bottom: 0.25rem;
        }
        
        #search-results .search-result-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        #search-results .search-result-item:hover {
            background-color: #f9fafb;
            transform: translateX(2px);
        }
        
        #search-results .search-result-item h4 {
            font-family: 'Playfair Display', serif;
            font-size: 1rem;
            margin-bottom: 0.375rem;
            color: #1f2937;
            font-weight: 500;
        }
        
        #search-results .search-result-item p {
            font-size: 0.8125rem;
            color: #9ca3af;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        #search-results .search-result-item .category-tag {
            display: inline-block;
            padding: 0.125rem 0.5rem;
            background-color: #f3f4f6;
            color: #6b7280;
            border-radius: 9999px;
            font-size: 0.6875rem;
            margin-top: 0.5rem;
            font-weight: 500;
        }
        
        #search-results .no-results {
            text-align: center;
            padding: 2rem 1rem;
            color: #9ca3af;
        }
        
        #search-results .no-results i {
            font-size: 2rem;
            margin-bottom: 0.75rem;
            opacity: 0.4;
        }
        
        .dark-mode #search-modal .search-modal-content {
            background-color: rgba(31, 41, 55, 0.95);
            border-color: rgba(55, 65, 81, 0.5);
        }
        
        .dark-mode #search-modal .search-modal-content h3 {
            color: #f9fafb;
        }
        
        .dark-mode #search-modal input {
            background-color: rgba(55, 65, 81, 0.5);
            border-color: rgba(75, 85, 99, 0.5);
            color: #f9fafb;
        }
        
        .dark-mode #search-modal input::placeholder {
            color: #6b7280;
        }
        
        .dark-mode #search-modal .search-result-item {
            border-color: rgba(55, 65, 81, 0.5);
        }
        
        .dark-mode #search-modal .search-result-item:hover {
            background-color: rgba(55, 65, 81, 0.5);
        }
        
        .dark-mode #search-modal .search-result-item h4 {
            color: #f9fafb;
        }
        
        .dark-mode #search-modal .search-result-item .category-tag {
            background-color: rgba(75, 85, 99, 0.5);
            color: #d1d5db;
        }
    </style>
</head>

<body class="font-inter text-primary antialiased overflow-x-hidden">
    <canvas id="canvas"></canvas>
    <!-- 页面容器 -->
    <div id="app-container" class="min-h-screen flex flex-col">
        <!-- 右下角功能按钮 -->
        <div class="fixed bottom-4 right-4 z-50 flex items-center gap-3">
            <!-- 搜索按钮 -->
            <button id="search-toggle" class="theme-button theme-button-enhanced" title="搜索">
                <i id="search-icon" class="fa fa-search"></i>
            </button>
            <!-- 齿轮按钮（多功能） -->
            <div class="multi-function-container">
                <button id="multi-function-toggle" class="theme-button theme-button-enhanced">
                    <i id="multi-function-icon" class="fa fa-cog"></i>
                </button>
                <div class="multi-function-options">
                    <button id="theme-toggle" class="theme-button theme-button-enhanced" title="切换主题">
                        <i id="theme-icon" class="fa fa-sun"></i>
                    </button>
                    <button id="music-toggle" class="theme-button theme-button-enhanced" title="播放/暂停音乐">
                        <i id="music-icon" class="fa fa-music"></i>
                    </button>
                    <button id="animation-toggle" class="theme-button theme-button-enhanced" title="动画切换">
                        <i id="animation-icon" class="fa fa-magic"></i>
                    </button>
                    <button id="font-toggle" class="theme-button theme-button-enhanced" title="字体调整">
                        <i class="fa fa-text-height"></i>
                    </button>
                    <button id="expand-all-articles" class="theme-button theme-button-enhanced" title="展开全部文章">
                        <i id="expand-all-icon" class="fa fa-expand"></i>
                    </button>
                    <div class="font-size-options">
                        <button id="font-decrease" class="font-size-btn" title="减小字体">
                            <i class="fa fa-minus"></i>
                        </button>
                        <button id="font-reset" class="font-size-btn" title="重置字体">
                            <i class="fa fa-font"></i>
                        </button>
                        <button id="font-increase" class="font-size-btn" title="增大字体">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
            <!-- 返回顶部按钮 -->
            <button id="back-to-top" class="theme-button theme-button-enhanced hidden" title="返回顶部">
                <i class="fa fa-arrow-up"></i>
            </button>
        </div>
        
        <!-- 音乐播放器 -->
        <audio id="background-music" src="audio/canon.mp3" loop preload="auto"></audio>

        <!-- 搜索模态框 -->
        <div id="search-modal" class="fixed inset-0 bg-black/20 backdrop-blur-sm z-50 hidden opacity-0 transition-opacity duration-300">
            <div class="flex items-center justify-center min-h-screen px-4">
                <div class="search-modal-content bg-white/90 backdrop-blur-md rounded-xl shadow-lg max-w-lg w-full p-5 transform scale-95 transition-transform duration-300">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center gap-2">
                            <i class="fa fa-search text-lg text-primary/70"></i>
                            <h3 class="text-lg font-playfair font-medium">搜索</h3>
                        </div>
                        <button id="search-close" class="text-gray-400 hover:text-primary transition-colors p-1.5 rounded-lg hover:bg-gray-100">
                            <i class="fa fa-times text-sm"></i>
                        </button>
                    </div>
                    
                    <div class="relative mb-4">
                        <input type="text" id="search-input" placeholder="搜索文章..." 
                               class="w-full px-4 py-2.5 pl-10 pr-10 border border-gray-200/80 rounded-lg focus:outline-none focus:border-primary/60 focus:ring-1 focus:ring-primary/20 transition-all text-sm bg-white/50">
                        <i class="fa fa-search absolute left-3.5 top-1/2 transform -translate-y-1/2 text-gray-400 text-xs"></i>
                        <button id="search-clear" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-primary transition-colors hidden">
                            <i class="fa fa-times text-xs"></i>
                        </button>
                    </div>
                    
                    <div id="search-stats" class="text-xs text-gray-500 mb-3 hidden">
                        找到 <span id="search-count" class="font-medium text-primary">0</span> 篇
                    </div>
                    
                    <div id="search-results" class="max-h-[400px] overflow-y-auto pr-1">
                        <div id="search-placeholder" class="text-center py-8">
                            <i class="fa fa-search text-4xl text-gray-200/60 mb-3"></i>
                            <p class="text-gray-400 text-sm">输入关键词开始搜索</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 首页 -->
        <section id="home-page" class="h-screen flex items-center justify-center px-4 transition-smooth-slow bg-white page-transition page-visible">
            <div class="text-center max-w-3xl mx-auto fade-in-up">
                <h1 id="home-title" class="text-[clamp(2.5rem,8vw,5rem)] font-playfair leading-tight cursor-pointer hover:text-secondary transition-colors duration-300 interactive-element">
                    <!-- 这里的文本将在 JavaScript 中逐个插入 -->
                </h1>
                <div class="mt-12 opacity-70 interactive-element">
                    <i class="fa fa-chevron-down text-xl animate-bounce"></i>
                </div>
            </div>
            <!-- GIF 背景图片 -->
            <div class="home-gif-container">
                <!-- 白天模式显示测试0.gif -->
                <img id="light-gif" src="images/测试0.gif" alt="白天背景" class="gif-light">
                <!-- 暗夜模式显示测试.gif -->
                <img id="dark-gif" src="images/测试.gif" alt="暗夜背景" class="gif-dark">
            </div>
        </section>

        <!-- 文章页面 -->
        <section id="articles-page" class="min-h-screen flex flex-col px-4 transition-smooth-slow opacity-0 pointer-events-none absolute top-0 left-0 w-full page-transition page-hidden">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-button" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover interactive-element">
                    <i class="fa fa-arrow-left mr-2"></i> 回到首页
                </a>
                <div class="flex space-x-4">
                    <a href="#" id="talking-link" class="text-xl font-light hover:text-secondary transition-colors duration-300 link-hover interactive-element">慢慢谈说</a>
                    <a href="#" id="what-i-did-link" class="text-xl font-light hover:text-secondary transition-colors duration-300 link-hover interactive-element">干了啥</a>
                    <a href="#" id="about-link" class="text-xl font-light hover:text-secondary transition-colors duration-300 link-hover interactive-element">关于</a>
                </div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center justify-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 中央内容 -->
                <div class="w-full text-center py-16">
                    <h3 class="text-[clamp(1.5rem,4vw,3rem)] font-playfair mb-8">
                        千里之行，始于足下
                    </h3>
                    <div class="w-24 h-px bg-primary mx-auto mb-12"></div>
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>

        <!-- 慢慢谈说页面 -->
        <section id="talking-page" class="min-h-screen flex flex-col px-4 transition-smooth-slow opacity-0 pointer-events-none absolute top-0 left-0 w-full page-transition page-hidden">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-to-articles" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover interactive-element">
                    <i class="fa fa-arrow-left mr-2"></i> 返回
                </a>
                <div class="text-xl font-light">慢慢谈说</div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center justify-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 页面标题 -->
                <div class="w-full text-center mb-16 slide-in">
                    <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-playfair mb-4">
                        碎碎念
                    </h2>
                </div>

                <!-- 主题卡片 - 笔记本堆叠样式 -->
                <div class="notebook-stack w-full max-w-md mb-16 px-4">
                    <!-- 笔记本3：艺术与创意（最底层） -->
                    <div class="notebook-cover notebook-stack-item notebook-stack-bottom slide-in" style="transition-delay: 0.3s" onclick="openNotebook('art-articles-page')">
                        <div class="notebook-spine"></div>
                        <div class="notebook-pages"></div>
                        <div class="notebook-front">
                            <div class="notebook-texture"></div>
                            <div class="notebook-label">
                                <span class="notebook-title">艺术与创意</span>
                                <span class="notebook-subtitle">Art & Creativity</span>
                            </div>
                            <div class="notebook-decoration">
                                <i class="fa fa-paint-brush"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 笔记本2：科技与未来（中间层） -->
                    <div class="notebook-cover notebook-stack-item notebook-stack-middle slide-in" style="transition-delay: 0.2s" onclick="openNotebook('tech-articles-page')">
                        <div class="notebook-spine"></div>
                        <div class="notebook-pages"></div>
                        <div class="notebook-front">
                            <div class="notebook-texture"></div>
                            <div class="notebook-label">
                                <span class="notebook-title">科技与未来</span>
                                <span class="notebook-subtitle">Technology & Future</span>
                            </div>
                            <div class="notebook-decoration">
                                <i class="fa fa-microchip"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 笔记本1：思考与探索（最顶层） -->
                    <div class="notebook-cover notebook-stack-item notebook-stack-top slide-in" style="transition-delay: 0.1s" onclick="openNotebook('thinking-articles-page')">
                        <div class="notebook-spine"></div>
                        <div class="notebook-pages"></div>
                        <div class="notebook-front">
                            <div class="notebook-texture"></div>
                            <div class="notebook-label">
                                <span class="notebook-title">思考与探索</span>
                                <span class="notebook-subtitle">Thinking & Exploration</span>
                            </div>
                            <div class="notebook-decoration">
                                <i class="fa fa-lightbulb-o"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>

        <!-- 关于页面 -->
        <section id="about-page" class="min-h-screen flex flex-col px-4 transition-smooth-slow opacity-0 pointer-events-none absolute top-0 left-0 w-full page-transition page-hidden">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-to-articles-from-about" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover interactive-element">
                    <i class="fa fa-arrow-left mr-2"></i> 返回
                </a>
                <div class="text-xl font-light">关于</div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center justify-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 页面标题 -->
                <div class="w-full text-center mb-16 slide-in">
                    <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-playfair mb-4">
                        关于
                    </h2>
                </div>

                <!-- 关于作者 -->
                <div class="w-full max-w-3xl bg-gray-50 rounded-lg p-8 md:p-12 slide-in hover-highlight" style="transition-delay: 0.1s">
                    <div class="flex flex-col md:flex-row items-center gap-8">
                        <div class="w-32 h-32 rounded-full overflow-hidden flex-shrink-0">
                            <img src="https://picsum.photos/200/200?random=20" alt="作者头像" class="w-full h-full object-cover img-grayscale">
                        </div>
                        <div class="text-center md:text-left">
                            <h3 class="text-2xl font-light mb-3">关于作者</h3>
                            <p class="text-gray-600 mb-2">
                                一个喜欢思考的人，想要记录生活中的点滴感悟和思考。
                            </p>
                            <p class="text-gray-600 mb-4 flex items-center justify-center md:justify-start">
                                <i class="fa fa-envelope-o mr-2"></i> 139107681@qq.com
                            </p>
                            <div class="flex justify-center md:justify-start gap-4">
                                <a href="https://github.com/qianshanyuewu" class="text-gray-500 hover:text-primary transition-colors duration-300 link-hover">
                                    <i class="fa fa-github text-xl"></i> 我的GitHub
                                </a>
                                <a href="#" class="text-gray-500 hover:text-primary transition-colors duration-300 link-hover">
                                    <i class="fa fa-twitter text-xl"></i>
                                </a>
                                <a href="#" class="text-gray-500 hover:text-primary transition-colors duration-300 link-hover">
                                    <i class="fa fa-linkedin text-xl"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>

        <!-- 科技与未来文章页面 -->
        <section id="tech-articles-page" class="min-h-screen flex flex-col px-4 transition-smooth opacity-0 pointer-events-none absolute top-0 left-0 w-full">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-to-talking-from-tech" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover">
                    <i class="fa fa-arrow-left mr-2"></i> 返回
                </a>
                <div class="text-xl font-light">科技与未来</div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center justify-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 页面标题 -->
                <div class="w-full text-center mb-16 slide-in">
                    <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-playfair mb-4">
                        科技与未来
                    </h2>
                    <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                    </p>
                </div>

                <!-- 文章列表 -->
                <div id="dynamic-tech-articles-list" class="w-full max-w-3xl space-y-4">
                    <!-- "科技与未来"系列的文章将动态加载到这里 -->
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>

        <!-- 艺术与创意文章页面 -->
        <section id="art-articles-page" class="min-h-screen flex flex-col px-4 transition-smooth opacity-0 pointer-events-none absolute top-0 left-0 w-full">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-to-talking-from-art" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover">
                    <i class="fa fa-arrow-left mr-2"></i> 返回
                </a>
                <div class="text-xl font-light">艺术与创意</div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 页面标题 -->
                <div class="w-full text-center mb-16 slide-in">
                    <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-playfair mb-4">
                        艺术与创意
                    </h2>
                    <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                    </p>
                </div>

                <!-- 主题卡片 (保持不变，用于导航) -->
                <div class="flex justify-center w-full mb-16">
                    <!-- 卡片1：光影一刻 - 相框风格 -->
                    <div class="photo-frame-card slide-in card-hover" style="transition-delay: 0.1s; max-width: 380px; width: 100%;">
                        <div class="photo-frame">
                            <div class="photo-frame-inner">
                                <img src="https://picsum.photos/600/400?random=10" alt="光影一刻" class="photo-frame-img">
                            </div>
                            <div class="photo-frame-corner photo-frame-corner-tl"></div>
                            <div class="photo-frame-corner photo-frame-corner-tr"></div>
                            <div class="photo-frame-corner photo-frame-corner-bl"></div>
                            <div class="photo-frame-corner photo-frame-corner-br"></div>
                        </div>
                        <div class="photo-frame-info">
                            <h3 class="photo-frame-title">光影一刻（摄影）</h3>
                            <a href="#" id="light-shadow-link" class="photo-frame-link">
                                阅读更多 <i class="fa fa-arrow-right ml-2"></i>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- 文章列表容器 (新添加) -->
                <div id="dynamic-art-creativity-articles-list" class="w-full max-w-3xl space-y-4 mt-12">
                    <!-- "艺术与创意"系列的文章将动态加载到这里 -->
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>

        <!-- 光影一刻页面 -->
        <section id="light-shadow-page" class="min-h-screen flex flex-col px-4 transition-smooth opacity-0 pointer-events-none absolute top-0 left-0 w-full">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-to-art-from-light" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover">
                    <i class="fa fa-arrow-left mr-2"></i> 返回
                </a>
                <div class="text-xl font-light">光影一刻（摄影）</div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center justify-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 页面标题 -->
                <div class="w-full text-center mb-16 slide-in">
                    <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-playfair mb-4">
                        光影一刻（摄影）
                    </h2>
                    <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                    </p>
                </div>

                <!-- 图片展示 -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 w-full max-w-5xl mb-16">
                    <!-- 图片1 -->
                    <div class="bg-white custom-card p-6 slide-in hover-highlight card-enhanced" style="transition-delay: 0.1s">
                        <div class="h-48 bg-gray-100 rounded-lg mb-6 overflow-hidden">
                            <img src="/Montunar.github.io/images/a.jpg" alt="图片A" class="w-full h-full object-cover img-grayscale">
                        </div>
                        <p class="text-gray-600 mb-4">蓝天中飘浮着形态蓬松的白云，色调清新明快。</p>
                    </div>

                    <!-- 图片2 -->
                    <div class="bg-white custom-card p-6 slide-in hover-highlight card-enhanced" style="transition-delay: 0.2s">
                        <div class="h-48 bg-gray-100 rounded-lg mb-6 overflow-hidden">
                            <img src="/Montunar.github.io/images/b.jpg" alt="图片B" class="w-full h-full object-cover img-grayscale">
                        </div>
                        <p class="text-gray-600 mb-4">水边生长着棕绿相间的芦苇，水面泛起波纹，尽显自然野趣。</p>
                    </div>

                    <!-- 图片3 -->
                    <div class="bg-white custom-card p-6 slide-in hover-highlight card-enhanced" style="transition-delay: 0.3s">
                        <div class="h-48 bg-gray-100 rounded-lg mb-6 overflow-hidden">
                            <img src="/Montunar.github.io/images/c.jpg" alt="图片C" class="w-full h-full object-cover img-grayscale">
                        </div>
                        <p class="text-gray-600 mb-4">草地上木栅栏旁，阳光洒落，枯叶与绿草相映，氛围静谧。</p>
                    </div>

                    <!-- 图片4 -->
                    <div class="bg-white custom-card p-6 slide-in hover-highlight card-enhanced" style="transition-delay: 0.4s">
                        <div class="h-48 bg-gray-100 rounded-lg mb-6 overflow-hidden">
                            <img src="/Montunar.github.io/images/d.jpg" alt="图片D" class="w-full h-full object-cover img-grayscale">
                        </div>
                        <p class="text-gray-600 mb-4">湖泊畔石块静卧，远处城市建筑与绿树错落，展现城市中的自然景观。</p>
                    </div>

                    <!-- 图片5 -->
                    <div class="bg-white custom-card p-6 slide-in hover-highlight card-enhanced" style="transition-delay: 0.5s">
                        <div class="h-48 bg-gray-100 rounded-lg mb-6 overflow-hidden">
                            <img src="/Montunar.github.io/images/e.jpg" alt="图片E" class="w-full h-full object-cover img-grayscale">
                        </div>
                        <p class="text-gray-600 mb-4">湖边紫色鸢尾花绽放，背景湖水波光粼粼，隐约可见黑天鹅身影，充满生机。</p>
                    </div>

                    <!-- 图片6 -->
                    <div class="bg-white custom-card p-6 slide-in hover-highlight card-enhanced" style="transition-delay: 0.6s">
                        <div class="h-48 bg-gray-100 rounded-lg mb-6 overflow-hidden">
                            <img src="/Montunar.github.io/images/f.jpg" alt="图片F" class="w-full h-full object-cover img-grayscale">
                        </div>
                        <p class="text-gray-600 mb-4">henu经管楼的胶片感，木质桌椅整齐排列，大窗透进自然光线，窗外树木与室内暖调相融，静谧温馨。</p>
                    </div>
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>

        <!-- 美术鉴赏页面 -->
        <section id="art-appreciation-page" class="min-h-screen flex flex-col px-4 transition-smooth opacity-0 pointer-events-none absolute top-0 left-0 w-full">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-to-art-from-appreciation" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover">
                    <i class="fa fa-arrow-left mr-2"></i> 返回
                </a>
                <div class="text-xl font-light">美术鉴赏</div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center justify-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 页面标题 -->
                <div class="w-full text-center mb-16 slide-in">
                    <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-playfair mb-4">
                        美术鉴赏
                    </h2>
                    <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                        欣赏各类美术作品，了解艺术流派与历史，感受艺术的魅力与内涵。
                    </p>
                </div>

                <!-- 内容区域 -->
                <div class="w-full max-w-3xl text-center">
                    <p class="text-gray-600 text-lg">
                        美术鉴赏内容即将上线，敬请期待...
                    </p>
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>

        <!-- 思考与探索文章页面 -->
        <section id="thinking-articles-page" class="min-h-screen flex flex-col px-4 transition-smooth opacity-0 pointer-events-none absolute top-0 left-0 w-full">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-to-talking" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover">
                    <i class="fa fa-arrow-left mr-2"></i> 返回
                </a>
                <div class="text-xl font-light">思考与探索</div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center justify-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 页面标题 -->
                <div class="w-full text-center mb-16 slide-in">
                    <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-playfair mb-4">
                        思考与探索
                    </h2>
                    <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                    </p>
                </div>

                <!-- 文章列表 -->
                <div class="w-full max-w-3xl notebook-lines">
                    <div id="dynamic-articles-list"></div>
                    <!-- 可以添加更多文章 -->
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>

        <!-- 干了啥页面 -->
        <section id="what-i-did-page" class="min-h-screen flex flex-col px-4 transition-smooth opacity-0 pointer-events-none absolute top-0 left-0 w-full">
            <!-- 导航栏 -->
            <header class="w-full py-6 px-4 md:px-8 flex justify-between items-center border-b border-gray-200">
                <a href="#" id="back-to-articles-from-what-i-did" class="text-xl font-medium hover:text-secondary transition-colors duration-300 flex items-center link-hover">
                    <i class="fa fa-arrow-left mr-2"></i> 返回
                </a>
                <div class="text-xl font-light">干了啥</div>
            </header>

            <!-- 主内容区 -->
            <div class="flex-grow flex flex-col items-center max-w-6xl mx-auto w-full mt-8 relative">
                <!-- 页面标题 -->
                <div class="w-full text-center mb-8 slide-in">
                    <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-playfair mb-4">
                        干了啥系列
                    </h2>
                    <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                        这里是我干了什么的记录，包含日常更新和专项记录。
                    </p>
                </div>

                <!-- 子栏目导航 -->
                <div class="w-full max-w-3xl mb-8">
                    <div class="flex flex-wrap justify-center gap-4 mb-8">
                        <button id="btn-all-whatidid" class="px-6 py-3 bg-black text-white rounded-lg transition-colors duration-300 hover:bg-gray-800 active scale-subtle" onclick="filterWhatIDidCategory('all')">
                            更新记录
                        </button>
                        <button id="btn-kaoyan100" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg transition-colors duration-300 hover:bg-gray-300 scale-subtle" onclick="filterWhatIDidCategory('kaoyan100')">
                            考研100天记录
                        </button>
                    </div>
                </div>

                <!-- 文章容器 -->
                <div id="dynamic-whatidid-articles-list" class="w-full max-w-3xl notebook-lines">
                    <!-- "干了啥"系列的文章将动态加载到这里 -->
                </div>
                
                <!-- 考研100天记录文章容器 -->
                <div id="dynamic-kaoyan100-articles-list" class="w-full max-w-3xl notebook-lines hidden">
                    <!-- "考研100天记录"系列的文章将动态加载到这里 -->
                </div>
            </div>

            <!-- 页脚 -->
            <footer class="w-full py-8 mt-12 text-center text-sm text-gray-500 border-t border-gray-200">
            </footer>
        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="js/main.js?v=3"></script>
    <script src="js/background-animation.js?v=3"></script>
    <script src="js/article-features.js?v=3"></script>
    <script>
        // 笔记本掀开动画函数
        function openNotebook(pageId) {
            const notebook = event.currentTarget;
            const front = notebook.querySelector('.notebook-front');
            
            // 添加掀开动画类
            notebook.classList.add('notebook-opening');
            front.style.transform = 'rotateY(-120deg)';
            front.style.transformOrigin = 'left center';
            front.style.transition = 'transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
            
            // 动画完成后跳转页面
            setTimeout(() => {
                const targetPage = document.getElementById(pageId);
                if (targetPage && typeof showPage === 'function') {
                    showPage(targetPage);
                }
                // 重置动画状态
                setTimeout(() => {
                    front.style.transform = '';
                    front.style.transformOrigin = '';
                    front.style.transition = '';
                    notebook.classList.remove('notebook-opening');
                }, 300);
            }, 600);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            showPage(homePage); // 确保初始时canvas隐藏

            // 返回顶部按钮控制
            const backToTopBtn = document.getElementById('back-to-top');
            const scrollThreshold = 300; // 滚动300px后显示返回顶部按钮

            window.addEventListener('scroll', () => {
                if (window.pageYOffset > scrollThreshold) {
                    backToTopBtn.classList.remove('hidden');
                } else {
                    backToTopBtn.classList.add('hidden');
                }
            });

            // 返回顶部按钮点击事件
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });

        // 添加重试机制的fetch函数
        async function fetchWithRetry(url, maxRetries = 3, delay = 1000) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response;
                } catch (error) {
                    console.warn(`Fetch attempt ${i + 1} failed for ${url}:`, error);
                    if (i === maxRetries - 1) {
                        throw error;
                    }
                    // 等待后重试
                    await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));
                }
            }
        }

        // 显示加载指示器
        function showLoadingIndicator(container, message = '正在加载...') {
            container.innerHTML = `
                <div class="flex flex-col items-center justify-center py-16">
                    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"></div>
                    <p class="text-gray-600">${message}</p>
                </div>
            `;
        }

        // 显示错误信息
        function showErrorMessage(container, message = '加载失败，请刷新页面重试') {
            container.innerHTML = `
                <div class="flex flex-col items-center justify-center py-16">
                    <i class="fa fa-exclamation-triangle text-4xl text-red-500 mb-4"></i>
                    <p class="text-gray-600 mb-4">${message}</p>
                    <button onclick="location.reload()" class="custom-button scale-subtle">
                        <i class="fa fa-refresh mr-2"></i>刷新页面
                    </button>
                </div>
            `;
        }

        // 改进的文章加载函数 - 移除setTimeout包装，添加重试机制
        async function loadArticles() {
            const listContainer = document.getElementById('dynamic-articles-list');
            if (!listContainer) return;

            // 显示加载指示器
            showLoadingIndicator(listContainer, '正在加载思考与探索文章...');

            try {
                const res = await fetchWithRetry('articles/articles.json');
                const articles = await res.json();
                renderArticles(articles, listContainer, 'thinking', '思考与探索');
            } catch (e) {
                console.error("Error loading thinking articles:", e);
                showErrorMessage(listContainer, '无法加载"思考与探索"文章列表，请检查网络连接后重试。');
            }
        }

        async function loadWhatIDidArticles() {
            const listContainer = document.getElementById('dynamic-whatidid-articles-list');
            if (!listContainer) return;

            showLoadingIndicator(listContainer, '正在加载干了啥系列文章...');

            try {
                const res = await fetchWithRetry('articles/whatidid-articles.json');
                const articles = await res.json();
                renderArticles(articles, listContainer, 'whatidid', '干了啥');
            } catch (e) {
                console.error("Error loading whatidid articles:", e);
                showErrorMessage(listContainer, '无法加载"干了啥"系列文章，请检查网络连接后重试。');
            }
        }

        async function loadTechArticles() {
            const listContainer = document.getElementById('dynamic-tech-articles-list');
            if (!listContainer) return;

            showLoadingIndicator(listContainer, '正在加载科技与未来文章...');

            try {
                const res = await fetchWithRetry('articles/tech-articles.json');
                const articles = await res.json();
                renderArticles(articles, listContainer, 'tech', '科技与未来');
            } catch (e) {
                console.error("Error loading tech articles:", e);
                showErrorMessage(listContainer, '无法加载"科技与未来"文章列表，请检查网络连接后重试。');
            }
        }

        async function loadArtCreativityArticles() {
            const listContainer = document.getElementById('dynamic-art-creativity-articles-list');
            if (!listContainer) return;

            showLoadingIndicator(listContainer, '正在加载艺术与创意文章...');

            try {
                const res = await fetchWithRetry('articles/art-creativity-articles.json');
                const articles = await res.json();
                renderArticles(articles, listContainer, 'art-creativity', '艺术与创意');
            } catch (e) {
                console.error("Error loading art & creativity articles:", e);
                showErrorMessage(listContainer, '无法加载"艺术与创意"文章列表，请检查网络连接后重试。');
            }
        }

        // 获取文章预览文本的函数
        function getArticlePreview(article) {
            // 如果文章有描述，使用描述
            if (article.description) {
                return article.description;
            }
            
            // 否则根据分类生成默认预览
            const categoryPreviews = {
                '思考与探索': '探索生活中的深层思考，分享对世界的独特见解和哲学思辨...',
                '科技与未来': '探讨前沿科技趋势，分析技术发展对社会的影响...',
                '艺术与创意': '欣赏艺术之美，分享创作灵感和审美体验...',
                '干了啥': '记录生活中的点点滴滴，分享个人经历和感悟...',
                '考研100天记录': '记录考研冲刺阶段的每一天，分享备考心得和学习感悟...'
            };
            
            return categoryPreviews[article.category] || '点击展开阅读完整内容...';
        }

        // 获取文章图标的函数
        function getArticleIcon(category) {
            const categoryIcons = {
                '思考与探索': 'fa-lightbulb-o',
                '科技与未来': 'fa-rocket',
                '艺术与创意': 'fa-paint-brush',
                '干了啥': 'fa-calendar-o',
                '考研100天记录': 'fa-graduation-cap'
            };
            
            return categoryIcons[category] || 'fa-file-text-o';
        }

        function renderArticles(articles, container, typePrefix, defaultCategory) {
            if (!articles || articles.length === 0) {
                container.innerHTML = ``;
                return;
            }

            // 分离置顶文章和普通文章
            const pinnedArticles = articles.filter(article => article.pinned);
            const normalArticles = articles.filter(article => !article.pinned);
            
            // 将置顶文章放在前面
            const sortedArticles = [...pinnedArticles, ...normalArticles];

            let html = '';
            
            for (const article of sortedArticles) {
                const category = article.category || defaultCategory;
                const preview = getArticlePreview(article);
                const icon = getArticleIcon(category);
                const isPinned = article.pinned;
                
                html += `
                <div class="article-card slide-in card-enhanced ${isPinned ? 'pinned-article' : ''}" style="transition-delay: 0.1s" onclick="toggleArticleContent('${article.filename}', '${typePrefix}')">
                    <div class="article-card-content">
                        <div class="flex items-start mb-3">
                            <div class="article-actions mr-3" style="margin-top: 0.5rem;">
                                <i class="fa fa-chevron-down toggle-icon-enhanced"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center mb-2">
                                    <h3 class="article-title ${isPinned ? 'pinned-title' : ''}">${article.title}</h3>
                                    ${isPinned ? '<span class="pinned-badge"><i class="fa fa-thumb-tack"></i> 置顶</span>' : ''}
                                </div>
                                <div class="article-meta">
                                    <div class="article-date">
                                        <i class="fa fa-calendar-o"></i>
                                        <span>${article.date}</span>
                                    </div>
                                    <div class="article-category">
                                        <i class="fa ${icon}"></i>
                                        <span>${category}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="article-icon">
                                <i class="fa ${icon}"></i>
                            </div>
                        </div>
                        
                        <div class="article-preview article-preview-text">
                            ${preview}
                        </div>
                    </div>
                    <div id="content-${typePrefix}-${article.filename.replace(/[^a-zA-Z0-9]/g, '')}" class="px-6 pb-6 content-collapsed"></div>
                </div>
                `;
            }
            container.innerHTML = html;

            // 激活slide-in动画
            setTimeout(() => {
                const slideElements = container.querySelectorAll('.slide-in');
                slideElements.forEach((el, index) => {
                    setTimeout(() => {
                        el.classList.add('active');
                    }, index * 100);
                });
            }, 100);
        }

        // 改进的文章内容切换函数，添加重试机制和手风琴效果
        window.toggleArticleContent = async function(filename, typePrefix) {
            const contentId = `content-${typePrefix}-${filename.replace(/[^a-zA-Z0-9]/g, '')}`;
            const contentDiv = document.getElementById(contentId);
            if (!contentDiv) return;
            
            const articleCard = contentDiv.closest('.article-card');
            const icon = articleCard ? articleCard.querySelector('.toggle-icon-enhanced') : null;

            if (contentDiv.classList.contains('content-collapsed')) {
                // 手风琴效果：展开当前文章前，先折叠所有其他已展开的文章
                const allContentDivs = document.querySelectorAll('.content-expanded');
                allContentDivs.forEach(div => {
                    if (div !== contentDiv) {
                        div.classList.remove('content-expanded');
                        div.classList.add('content-collapsed');
                        const otherCard = div.closest('.article-card');
                        const otherIcon = otherCard ? otherCard.querySelector('.toggle-icon-enhanced') : null;
                        if (otherIcon) otherIcon.classList.remove('expanded');
                    }
                });

                if (contentDiv.children.length === 0) {
                    // 显示加载指示器
                    contentDiv.innerHTML = `
                        <div class="flex items-center justify-center py-8">
                            <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-primary mr-3"></div>
                            <span class="text-gray-600">正在加载文章内容...</span>
                        </div>
                    `;
                    
                    try {
                        const res = await fetchWithRetry('articles/' + filename);
                        const md = await res.text();
                        contentDiv.innerHTML = `<div class="prose prose-gray max-w-none">${marked.parse(md)}</div>`;
                    } catch (e) {
                        console.error("Error fetching article content:", e);
                        contentDiv.innerHTML = `
                            <div class="flex flex-col items-center justify-center py-8">
                                <i class="fa fa-exclamation-triangle text-2xl text-red-500 mb-3"></i>
                                <p class="text-gray-600 mb-3">文章内容加载失败</p>
                                <button onclick="toggleArticleContent('${filename}', '${typePrefix}')" class="text-sm bg-primary text-white px-4 py-2 rounded hover:bg-secondary transition-colors scale-subtle">
                                    <i class="fa fa-refresh mr-2"></i>重试
                                </button>
                            </div>
                        `;
                        return; // 加载失败时不展开
                    }
                }
                contentDiv.classList.remove('content-collapsed');
                contentDiv.classList.add('content-expanded');
                if(icon) icon.classList.add('expanded');
                
                // 应用保存的字体大小
                const savedFontSize = localStorage.getItem('articleFontSize');
                if (savedFontSize) {
                    const articleContent = contentDiv.querySelector('.prose');
                    if (articleContent) {
                        articleContent.style.fontSize = savedFontSize + '%';
                    }
                }
            } else {
                contentDiv.classList.remove('content-expanded');
                contentDiv.classList.add('content-collapsed');
                if(icon) icon.classList.remove('expanded');
                
                // 折叠文章时，只在文章标题不在视口内时才滚动
                if (articleCard) {
                    const titleElement = articleCard.querySelector('h3, h4, h5');
                    if (titleElement) {
                        const titleRect = titleElement.getBoundingClientRect();
                        
                        // 只在标题不在视口内时才滚动
                        if (titleRect.top < 0 || titleRect.bottom > window.innerHeight) {
                            const titlePosition = titleElement.getBoundingClientRect().top + window.pageYOffset;
                            const offset = 20;
                            
                            window.scrollTo({
                                top: titlePosition - offset,
                                behavior: 'smooth'
                            });
                        }
                    }
                }
            }
        }
        
        // 搜索功能
        const searchToggle = document.getElementById('search-toggle');
        const searchModal = document.getElementById('search-modal');
        const searchClose = document.getElementById('search-close');
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');
        
        let allArticles = [];
        let articleCategories = [
            { file: 'articles/articles.json', category: '思考与探索' },
            { file: 'articles/whatidid-articles.json', category: '干了啥' },
            { file: 'articles/tech-articles.json', category: '科技与未来' },
            { file: 'articles/art-creativity-articles.json', category: '艺术与创意' },
            { file: 'articles/kaoyan100-articles.json', category: '考研100天记录' }
        ];
        
        async function loadAllArticles() {
            if (allArticles.length > 0) return allArticles;
            
            try {
                for (const cat of articleCategories) {
                    try {
                        const res = await fetchWithRetry(cat.file);
                        const articles = await res.json();
                        allArticles = allArticles.concat(articles.map(a => ({...a, category: cat.category})));
                    } catch (e) {
                        console.warn(`无法加载 ${cat.file}:`, e);
                    }
                }
            } catch (e) {
                console.error('加载文章失败:', e);
            }
            
            return allArticles;
        }
        
        function searchArticles(query) {
            if (!query.trim()) {
                searchResults.innerHTML = '<p class="text-center text-gray-500 py-8">输入关键词开始搜索</p>';
                return;
            }
            
            const lowerQuery = query.toLowerCase();
            let searchTerms = [lowerQuery];
            
            // 如果查询包含数字，尝试转换为中文数字
            const numberMatch = query.match(/\d+/);
            if (numberMatch) {
                const chineseNumber = numberToChinese(parseInt(numberMatch[0]));
                if (chineseNumber) {
                    searchTerms.push(chineseNumber);
                }
            }
            
            const results = allArticles.filter(article => {
                return searchTerms.some(term => {
                    const titleMatch = article.title && article.title.toLowerCase().includes(term);
                    const descMatch = article.description && article.description.toLowerCase().includes(term);
                    return titleMatch || descMatch;
                });
            });
            
            displaySearchResults(results, query);
        }
        
        function numberToChinese(num) {
            const digits = ['零', '一', '二', '三', '四', '五', '六', '七', '八', '九'];
            const units = ['', '十', '百', '千', '万'];
            
            if (num === 0) return '零';
            
            let result = '';
            let str = num.toString();
            let zeroFlag = false;
            
            for (let i = 0; i < str.length; i++) {
                const digit = parseInt(str[i]);
                const pos = str.length - i - 1;
                
                if (digit === 0) {
                    zeroFlag = true;
                    continue;
                }
                
                if (zeroFlag) {
                    result += '零';
                    zeroFlag = false;
                }
                
                result += digits[digit];
                if (pos > 0) {
                    result += units[pos];
                }
            }
            
            // 处理"一十"开头的特殊情况
            if (result.startsWith('一十')) {
                result = result.substring(1);
            }
            
            return result;
        }
        
        function displaySearchResults(results, query) {
            const searchStats = document.getElementById('search-stats');
            const searchCount = document.getElementById('search-count');
            const searchPlaceholder = document.getElementById('search-placeholder');
            
            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="no-results">
                        <i class="fa fa-search-minus"></i>
                        <p class="text-lg mb-2">没有找到与"<strong>${query}</strong>"相关的内容</p>
                        <p class="text-sm">试试其他关键词或数字（如：99）</p>
                    </div>
                `;
                searchStats.classList.add('hidden');
                return;
            }
            
            searchStats.classList.remove('hidden');
            searchCount.textContent = results.length;
            
            searchResults.innerHTML = results.map(article => `
                <div class="search-result-item" data-filename="${article.filename}" data-category="${article.category}">
                    <h4 class="font-medium">${article.title}</h4>
                    <p>${article.description || '无描述'}</p>
                    <span class="category-tag">${article.category}</span>
                </div>
            `).join('');
            
            document.querySelectorAll('.search-result-item').forEach(item => {
                item.addEventListener('click', async () => {
                    const filename = item.dataset.filename;
                    const category = item.dataset.category;
                    await openArticle(filename, category);
                    closeSearchModal();
                });
            });
        }
        
        function openArticle(filename, category) {
            const categoryMap = {
                '思考与探索': { pageId: 'thinking-articles-page', typePrefix: 'thinking' },
                '干了啥': { pageId: 'what-i-did-page', typePrefix: 'whatidid' },
                '科技与未来': { pageId: 'tech-articles-page', typePrefix: 'tech' },
                '艺术与创意': { pageId: 'art-articles-page', typePrefix: 'art-creativity' },
                '考研100天记录': { pageId: 'what-i-did-page', typePrefix: 'kaoyan100' }
            };
            
            const target = categoryMap[category];
            if (!target) {
                console.error('未知的文章分类:', category);
                return;
            }
            
            const targetPage = document.getElementById(target.pageId);
            if (!targetPage) {
                console.error('未找到目标页面:', target.pageId);
                return;
            }
            
            // 如果是考研100天记录，需要先切换到干了啥页面，然后切换到考研100天标签
            if (category === '考研100天记录') {
                if (typeof showPage === 'function') {
                    showPage(targetPage);
                    setTimeout(() => {
                        if (typeof window.filterWhatIDidCategory === 'function') {
                            window.filterWhatIDidCategory('kaoyan100');
                            setTimeout(() => {
                                if (typeof window.toggleArticleContent === 'function') {
                                    window.toggleArticleContent(filename, target.typePrefix);
                                    setTimeout(() => {
                                        scrollToArticle(filename, target.typePrefix);
                                    }, 600);
                                }
                            }, 500);
                        }
                    }, 300);
                }
            } else {
                if (typeof showPage === 'function') {
                    showPage(targetPage);
                    setTimeout(() => {
                        if (typeof window.toggleArticleContent === 'function') {
                            window.toggleArticleContent(filename, target.typePrefix);
                            setTimeout(() => {
                                scrollToArticle(filename, target.typePrefix);
                            }, 100);
                        }
                    }, 300);
                }
            }
        }
        
        function scrollToArticle(filename, typePrefix) {
            const contentId = `content-${typePrefix}-${filename.replace(/[^a-zA-Z0-9]/g, '')}`;
            const contentDiv = document.getElementById(contentId);
            if (contentDiv) {
                const articleCard = contentDiv.closest('.article-card');
                if (articleCard) {
                    setTimeout(() => {
                        articleCard.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                } else {
                    setTimeout(() => {
                        contentDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 100);
                }
            }
        }
        
        function openSearchModal() {
            searchModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            setTimeout(() => {
                searchModal.classList.add('visible');
                searchInput.focus();
            }, 10);
            loadAllArticles();
        }
        
        function closeSearchModal() {
            searchModal.classList.remove('visible');
            document.body.style.overflow = '';
            setTimeout(() => {
                searchModal.classList.add('hidden');
                searchInput.value = '';
                document.getElementById('search-clear').classList.add('hidden');
                document.getElementById('search-stats').classList.add('hidden');
                searchResults.innerHTML = `
                    <div id="search-placeholder" class="text-center py-8">
                        <i class="fa fa-search text-4xl text-gray-200/60 mb-3"></i>
                        <p class="text-gray-400 text-sm">输入关键词开始搜索</p>
                    </div>
                `;
            }, 300);
        }
        
        searchToggle.addEventListener('click', openSearchModal);
        searchClose.addEventListener('click', closeSearchModal);
        searchModal.addEventListener('click', (e) => {
            if (e.target === searchModal) closeSearchModal();
        });
        searchInput.addEventListener('input', (e) => {
            const value = e.target.value;
            const clearBtn = document.getElementById('search-clear');
            
            if (value.trim()) {
                clearBtn.classList.remove('hidden');
            } else {
                clearBtn.classList.add('hidden');
            }
            
            searchArticles(value);
        });
        
        document.getElementById('search-clear').addEventListener('click', () => {
            searchInput.value = '';
            document.getElementById('search-clear').classList.add('hidden');
            document.getElementById('search-stats').classList.add('hidden');
            searchResults.innerHTML = `
                <div id="search-placeholder" class="text-center py-8">
                    <i class="fa fa-search text-4xl text-gray-200/60 mb-3"></i>
                    <p class="text-gray-400 text-sm">输入关键词开始搜索</p>
                </div>
            `;
            searchInput.focus();
        });
        
        // 展开全部文章功能
        const expandAllBtn = document.getElementById('expand-all-articles');
        const expandAllIcon = document.getElementById('expand-all-icon');
        let isAllArticlesExpanded = false;
        
        if (expandAllBtn) {
            expandAllBtn.addEventListener('click', () => {
                isAllArticlesExpanded = !isAllArticlesExpanded;
                
                if (isAllArticlesExpanded) {
                    expandAllIcon.classList.remove('fa-expand');
                    expandAllIcon.classList.add('fa-compress');
                } else {
                    expandAllIcon.classList.remove('fa-compress');
                    expandAllIcon.classList.add('fa-expand');
                }
                
                // 获取所有可见的文章内容区域
                const allContentDivs = document.querySelectorAll('.content-collapsed, .content-expanded');
                const allIcons = document.querySelectorAll('.toggle-icon-enhanced');
                
                if (isAllArticlesExpanded) {
                    // 展开全部
                    allContentDivs.forEach(contentDiv => {
                        if (contentDiv.classList.contains('content-collapsed')) {
                            const articleCard = contentDiv.closest('.article-card');
                            const icon = articleCard ? articleCard.querySelector('.toggle-icon-enhanced') : null;
                            
                            if (contentDiv.children.length === 0) {
                                contentDiv.innerHTML = `
                                    <div class="flex items-center justify-center py-8">
                                        <div class="animate-spin rounded-full h-6 w-6 border-b-2 border-primary mr-3"></div>
                                        <span class="text-gray-600">正在加载文章内容...</span>
                                    </div>
                                `;
                                
                                const contentId = contentDiv.id;
                                const match = contentId.match(/content-(.+)-(.+)/);
                                if (match) {
                                    const typePrefix = match[1];
                                    const filenameEncoded = match[2];
                                    
                                    // 根据typePrefix找到对应的文章列表
                                    let articles = [];
                                    if (typePrefix === 'thinking') {
                                        articles = window.thinkingArticles || [];
                                    } else if (typePrefix === 'whatidid') {
                                        articles = window.whatididArticles || [];
                                    } else if (typePrefix === 'tech') {
                                        articles = window.techArticles || [];
                                    } else if (typePrefix === 'art-creativity') {
                                        articles = window.artCreativityArticles || [];
                                    } else if (typePrefix === 'kaoyan100') {
                                        articles = window.kaoyan100Articles || [];
                                    }
                                    
                                    const filename = articles.find(a => 
                                        `content-${typePrefix}-${a.filename.replace(/[^a-zA-Z0-9]/g, '')}` === contentId
                                    )?.filename;
                                    
                                    if (filename) {
                                        fetchWithRetry('articles/' + filename)
                                            .then(res => res.text())
                                            .then(md => {
                                                contentDiv.innerHTML = `<div class="prose prose-gray max-w-none">${marked.parse(md)}</div>`;
                                                contentDiv.classList.remove('content-collapsed');
                                                contentDiv.classList.add('content-expanded');
                                                if(icon) icon.classList.add('expanded');
                                            })
                                            .catch(e => {
                                                console.error("Error fetching article content:", e);
                                                contentDiv.innerHTML = `
                                                    <div class="flex flex-col items-center justify-center py-8">
                                                        <i class="fa fa-exclamation-triangle text-2xl text-red-500 mb-3"></i>
                                                        <p class="text-gray-600">文章内容加载失败</p>
                                                    </div>
                                                `;
                                            });
                                    }
                                }
                            } else {
                                contentDiv.classList.remove('content-collapsed');
                                contentDiv.classList.add('content-expanded');
                                if(icon) icon.classList.add('expanded');
                            }
                        }
                    });
                } else {
                    // 折叠全部
                    allContentDivs.forEach(contentDiv => {
                        contentDiv.classList.remove('content-expanded');
                        contentDiv.classList.add('content-collapsed');
                    });
                    
                    allIcons.forEach(icon => {
                        icon.classList.remove('expanded');
                    });
                }
            });
        }
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && searchModal.classList.contains('visible')) {
                closeSearchModal();
            }
        });
    </script>
</body>

</html>

